# C++课程学习

## 1. 头文件

​	C++编译系统提供的头文件有两类：

- 一类是标准的C++库头文件，这些头文件不带‘.h’；这种写法也适合标准的C库头文件，但是必须使用前缀字符“C”。
- 另一类是非标准的C++库头文件，这些头文件带“.h"，在连接时，编译系统会根据头文件名自动确定连接哪一个库。

**TIP**:使用标准库时，在所有include指令后，要加入语句：using namespace std;或者在使用所有内置关键字之前都要加上std:: 

## 2. c++对C的扩充

### 2.1 名字空间（namespace）

- C++标准库中的类和函数都是在名字空间std中声明的
- 名字空间可以消除因重名而导致的命名冲突
- 能在名字空间之外声明或者定义的实体，同样也能在名字空间之内声明或定义。

**定义**：一个名字空间由关键字namespace开始，通常后接一个标识符来标识名字空间。在名字空间开始和结束的地方分别用左右大括号标记。例如：

```c++
namespace sp1 {
	int flag;
}
sp1::flag = 2;
```

**无名的名字空间**：C++允许使用无名的名字空间。如下所示：

```c++
namespace {
	int inflag;
}
```

​	由于名字空间没有名字，因此在其他文件中无法引用。无名名字空间内的成员**作用域**为本文件从声明无名名字空间的位置到文件结束。

### 2.2 C++的输入输出流

​	C++的输入输出是由I/O流类库提供的。流类对象cin和cout分别代表标准的输入设备和输出设备，在头文件iostream中定义。

### 2.3 函数的重载

**定义**：在同一作用域中用同一函数名定义多个函数，这些函数的参数个数和参数类型不同，这些同名的函数根据传入参数的不同实现不同的功能。

### 2.4 函数模板

- 引入：因为函数重载存在的问题
- **定义**：实际上是一个通用函数，其函数类型和形参类型不具体指定，用一个虚拟的类型来代表。
- 语法

```c++
template<typename 或 class T>
    通用函数定义
    
实例：
template<typename T>
T max(T a, T b) {
    return (a>b) ? a : b;
}
```

- **适用情况**：只适用于函数的参数个数相同而类型不同，且函数体相同的情况。

- 函数模板并不是一个实实在在的函数，编译系统并不产生任何执行代码
- 当编译系统在程序中发现有与函数模板中相匹配的函数调用时，便生成一个重载函数，该重载函数的函数体与函数模板的函数体相同。
- **函数模板比函数重载更方便，程序更加简洁。**

### 2.5 有默认参数的函数

### 2.6 引用

- **定义**：对变量起另外一个名字（别名），这个名字称为该变量的引用。
- 语法：`<类型> &<引用变量名> = <原变量名>`
- 注意：
  1. 引用变量并不会在内存中重新开辟存储单元，只是引用原来变量的单元，两个变量在内存中占用同一地址，即两个地址同一个名字。
  2. 引用在定义的时候要进行初始化
  3. 对引用的操作就是对被引用的变量的操作
  4. 引用类型变量的初始化值不可以是一个常数
  5. 一旦引用被声明，它就不能再指向其他的变量
  6. 对引用的初始化，可以用一个变量名，也可以用另一个引用。
  7. 引用同变量一样有地址，可以对其地址进行操作，即即将其地址赋给一指针。

- 引用和指针的区别：引用是直接对变量的访问，而指针是借助地址来对地址空间进行访问。简而言之，引用比指针更直观、方便、容易理解。

- 函数的返回值为引用类型，则函数可以作为赋值的左值。

### 2.7 内联函数

- 介绍：一种以空间效率换取时间效率的方法，即因为函数需要频繁使用，所以在编译时将所调用函数的代码嵌入到主调函数中，这种嵌入到主调函数中的函数被称为内联函数（内置函数，内嵌函数）

- **语法**：

  ```c++
  inline <函数值类型> <函数名>(<参数表>)
  {
      <函数体>
  }
  ```

  ***慎用内联函数！！！***

### 2.8 作用域

​	可以适用`::a`来访问全局作用域中的变量。

### 2.9 字符串变量

​	`string`

### 2.10 动态分配/撤销内存

​	`new/delete`

1. new语法

   ```c++
   <指针变量名>=new <类型>;
   <指针变量名>=new <类型>(<初值>);
   <指针变量名>=new <类型>[<元素个数>];
   ```

2. delete语法

```c++
delete <指针变量名>;
delete[] <指针变量名>;
```



